---
 "NBA Position Progression Through Various Decades"
author: "Matt McMaster"
date: '2022-12-04'
categories: [NBA, Primes, Basketball]
image: "image.png"
format: 
  html:
    code-fold: truel
---

In my last project I observed NBA players Primes, when they occur and have they changed over time. I did this by creating a metric called McMasterScore which is created by this Equation: McMasterScore = RBSPergame \* .05 + ASTPergame + PPG \* \`TS%\` - TOVPergame \*2 + PER + DBPM + VORP. The Equation is meant to value efficient scorers and give an edge to defensive players. That project was about finding how players performance was different based on age, and to see how scouting and player valuation changed over 20 years of data. This project uses the same metric, McMasterScore, to see what positions played better than others and how they aged differently over 30 years

The finding below used the same score to measure players performance. Players were grouped into ages and separated from ages based on what position they play whether it be PG, SG, SF, PF, or C. The 1990s, 2000s and 2010s have all been separated into their own Below are multiple graphs that show. These graphs show not only what positions were better and hence more valuable to have in each era but also how their value changed over time. You will see that positions that performed in the 90s were not as good in the 2000s or 2010s and vice versa. This project also delves into how different positions aged. And answers the questions How bad did some positions play at the end of their careers and also shows surprisingly that some positions held value in their later years.

```{r warning=FALSE, message=FALSE}
library(tidyverse)
library(rvest)
library(cowplot)


years <- 1980:2022

alladvanced <- tibble()

for (i in years){

url <- paste0("https://www.basketball-reference.com/leagues/NBA_", i, "_advanced.html")

stats <- url %>% 
  read_html() %>% 
  html_nodes(xpath='//*[@id="advanced_stats"]') %>%
  html_table()

stats <- stats[[1]] %>% select(-20, -25) %>% filter(Rk != "Rk") %>% mutate_at(6:27, as.numeric) %>% mutate(Rk=as.numeric(Rk), Age = as.numeric(Age)) %>% mutate(Season = i) %>% mutate(Player = gsub("\\*", "", Player))

alladvanced <- bind_rows(alladvanced, stats)

Sys.sleep(2)
}

years <- 1980:2022

allplayers <- tibble()

for (i in years){

url <- paste0("https://www.basketball-reference.com/leagues/NBA_", i, "_totals.html")

stats <- url %>% 
  read_html() %>% 
  html_nodes(xpath='//*[@id="totals_stats"]') %>%
  html_table()

stats <- stats[[1]] %>% filter(Rk != "Rk") %>% mutate_at(6:30, as.numeric) %>% mutate(Rk=as.numeric(Rk), Age = as.numeric(Age)) %>% mutate(Season = i) %>% mutate(Player = gsub("\\*", "", Player))

allplayers <- bind_rows(allplayers, stats)

Sys.sleep(2)}


allplayersallmetrics <- allplayers %>% inner_join(alladvanced)



TwentyTens <- allplayersallmetrics %>%  
  filter(Season < 2020 & Season >= 2010) %>%  filter(G > 20)

Nineties <- allplayersallmetrics %>%  
  filter(Season < 1999 & Season >= 1990) %>%  filter(G > 20)

Thousand <- allplayersallmetrics %>%  
  filter(Season < 2009 & Season >= 2000) %>%  filter(G > 20)


TwentyTensPerG <- TwentyTens %>% mutate(ASTPergame = AST/G) %>% mutate(TOVPergame = TOV/G) %>% mutate(PPG = PTS/G) %>% mutate( RBSPergame = TRB/G)

ThousandPerG <- Thousand %>% mutate(ASTPergame = AST/G) %>% mutate(TOVPergame = TOV/G) %>% mutate(PPG = PTS/G) %>% mutate( RBSPergame = TRB/G)

NinetiesPerG <- Nineties %>% mutate(ASTPergame = AST/G) %>% mutate(TOVPergame = TOV/G) %>% mutate(PPG = PTS/G) %>% mutate( RBSPergame = TRB/G) 

MMSCORE10s <- TwentyTensPerG %>% mutate(McMasterScore = RBSPergame *.05 + ASTPergame + PPG * `TS%` - TOVPergame *2 + PER + DBPM + VORP) %>%  arrange(desc(McMasterScore))

MMSCORE90s <-NinetiesPerG %>%  mutate (McMasterScore = RBSPergame * .05 + ASTPergame + PPG * `TS%` - TOVPergame *2 + PER + DBPM + VORP) %>%  arrange(desc(McMasterScore))

MMSCOREThousands <- ThousandPerG  %>%  mutate (McMasterScore = RBSPergame * .05 + ASTPergame + PPG * `TS%` - TOVPergame *2 + PER + DBPM + VORP) %>%  arrange(desc(McMasterScore))

ThousandFilt <- MMSCOREThousands 

MMCharts10Pos <- MMSCORE10s %>% group_by(Age) %>% group_by(Pos) %>% summarise(AvgScore = mean(McMasterScore))

 MMSCORE10Fix <- MMSCORE10s %>% mutate(Pos = case_when(Pos == "SF-PF" ~ "SF", TRUE ~ Pos)) %>% mutate(Pos = case_when(Pos == "PF-SF" ~ "PF", TRUE ~ Pos)) %>%  mutate(Pos = case_when(Pos == "SG-PG" ~ "SG", TRUE ~ Pos))  %>%  mutate(Pos = case_when(Pos == "PG-SG" ~ "PG", TRUE ~ Pos))  %>%  mutate(Pos = case_when(Pos == "PF-C" ~ "PF", TRUE ~ Pos))  %>%  mutate(Pos = case_when(Pos == "C-PF" ~ "C", TRUE ~ Pos))  %>%  mutate(Pos = case_when(Pos == "SF-SG" ~ "SF", TRUE ~ Pos))  %>%  mutate(Pos = case_when(Pos == "SG-SF" ~ "SF", TRUE ~ Pos))  %>%  mutate(Pos = case_when(Pos == "SG-PF" ~ "SG", TRUE ~ Pos))

MMSCOREThousandFix <- MMSCOREThousands %>% mutate(Pos = case_when(Pos == "SF-PF" ~ "SF", TRUE ~ Pos)) %>% mutate(Pos = case_when(Pos == "PF-SF" ~ "PF", TRUE ~ Pos)) %>%  mutate(Pos = case_when(Pos == "SG-PG" ~ "SG", TRUE ~ Pos))  %>%  mutate(Pos = case_when(Pos == "PG-SG" ~ "PG", TRUE ~ Pos))  %>%  mutate(Pos = case_when(Pos == "PF-C" ~ "PF", TRUE ~ Pos))  %>%  mutate(Pos = case_when(Pos == "C-PF" ~ "C", TRUE ~ Pos))  %>%  mutate(Pos = case_when(Pos == "SF-SG" ~ "SF", TRUE ~ Pos))  %>%  mutate(Pos = case_when(Pos == "SG-SF" ~ "SF", TRUE ~ Pos))  %>%  mutate(Pos = case_when(Pos == "SG-PF" ~ "SG", TRUE ~ Pos)) %>%  mutate(Pos = case_when(Pos == "PG-SF" ~ "PG", TRUE ~ Pos))

MMSCORE90Fix <- MMSCORE90s %>% mutate(Pos = case_when(Pos == "SF-PF" ~ "SF", TRUE ~ Pos)) %>% mutate(Pos = case_when(Pos == "PF-SF" ~ "PF", TRUE ~ Pos)) %>%  mutate(Pos = case_when(Pos == "SG-PG" ~ "SG", TRUE ~ Pos))  %>%  mutate(Pos = case_when(Pos == "PG-SG" ~ "PG", TRUE ~ Pos))  %>%  mutate(Pos = case_when(Pos == "PF-C" ~ "PF", TRUE ~ Pos))  %>%  mutate(Pos = case_when(Pos == "C-PF" ~ "C", TRUE ~ Pos))  %>%  mutate(Pos = case_when(Pos == "SF-SG" ~ "SF", TRUE ~ Pos))  %>%  mutate(Pos = case_when(Pos == "SG-SF" ~ "SF", TRUE ~ Pos))  %>%  mutate(Pos = case_when(Pos == "SG-PF" ~ "SG", TRUE ~ Pos))

MMSCORE90sDATA <- MMSCORE90Fix %>% filter(Age >21 ) %>% group_by(Pos,Age) %>% summarise(AvgScore = mean(McMasterScore))

MMSCORE10sDATA <- MMSCORE10Fix %>% filter(Age < 37 ) %>% group_by(Pos,Age) %>% summarise(AvgScore = mean(McMasterScore))

MMSCORE2000sDATA <- MMSCOREThousandFix %>% filter(Age >19 ) %>% filter(Age < 37) %>%   group_by(Pos, Age) %>% summarise(AvgScore = mean(McMasterScore))

MMSCORE90sDATApf <- MMSCORE90sDATA %>% filter(Pos== "PF")



MMSCORE90sDATApg <- MMSCORE90sDATA %>% filter(Pos== "PG")



MMSCORE90sDATAsf <- MMSCORE90sDATA %>% filter(Pos== "SF")



MMSCORE90sDATAc <- MMSCORE90sDATA %>% filter(Pos== "C")



MMSCORE90sDATAsg <- MMSCORE90sDATA %>% filter(Pos== "SG")



MMSCORE10sDATApg <- MMSCORE10sDATA %>% filter(Pos== "PG")



MMSCORE10sDATAsf <- MMSCORE10sDATA %>% filter(Pos== "SF")



MMSCORE10sDATAsg <- MMSCORE10sDATA %>% filter(Pos== "SG")



MMSCORE10sDATAc <- MMSCORE10sDATA %>% filter(Pos== "C")



MMSCORE10sDATApf <- MMSCORE10sDATA %>% filter(Pos== "PF")



MMSCORE2000sDATApf <- MMSCORE2000sDATA %>% filter(Pos== "PF")



MMSCORE2000sDATApg <- MMSCORE2000sDATA %>% filter(Pos== "PG")



MMSCORE2000sDATAsf <- MMSCORE2000sDATA %>% filter(Pos== "SF")



MMSCORE2000sDATAsg <- MMSCORE2000sDATA %>% filter(Pos== "SG")



MMSCORE2000sDATAc <- MMSCORE2000sDATA %>% filter(Pos== "C")



ggplot() + 
  geom_line(data=MMSCORE2000sDATAc, aes(x=Age, y=AvgScore), color="darkorange") + 
  geom_line(data=MMSCORE2000sDATApg, aes(x=Age, y=AvgScore), color="blue4") + 
   geom_line(data=MMSCORE2000sDATAsg, aes(x=Age, y=AvgScore), color="chocolate4") + 
  geom_line(data=MMSCORE2000sDATAsf, aes(x=Age, y=AvgScore), color="red") +
   geom_line(data=MMSCORE2000sDATApf, aes(x=Age, y=AvgScore), color="chartreuse1")+ labs(
    x="Age of Player", 
    y="McMaster Score", 
    title= "2000s peaks by position", 
    subtitle=, 
    caption= "Source: Basketball Reference | Matt McMaster"
    ) +
  geom_text(aes(x=25, y=10, label="SG= Brown"), color="chocolate4") +
  geom_text(aes(x=25, y=11, label="PG = DarkBlue"), color="blue4") +
  geom_text(aes(x=28.5, y=10, label="C = Orange"), color="darkorange") +
  geom_text(aes(x=28.5, y=11, label="SF = Red"), color="red") +
  geom_text(aes(x=28.5, y=12, label="PF = Green"), color="chartreuse1") +
  geom_text(aes(x=25, y=23, label="A lot of parity during the 2000s"), color="Gray15") +
  geom_text(aes(x=25, y=14, label="Centers have a rough decade"), color="darkorange") +
  theme_light() + theme(
    plot.title = element_text(size=16, face = "bold"), 
     plot.subtitle = element_text(size=10),
    plot.title.position = "plot",
    axis.title = element_text(size=18),
panel.grid.minor = element_blank())

ggplot() + 
  geom_line(data=MMSCORE90sDATAc, aes(x=Age, y=AvgScore), color="darkorange") + 
  geom_line(data=MMSCORE90sDATApg, aes(x=Age, y=AvgScore), color="blue4") + 
   geom_line(data=MMSCORE90sDATAsg, aes(x=Age, y=AvgScore), color="chocolate4") + 
  geom_line(data=MMSCORE90sDATAsf, aes(x=Age, y=AvgScore), color="red") +
   geom_line(data=MMSCORE90sDATApf, aes(x=Age, y=AvgScore), color="chartreuse1") +
  labs(
    x="Age of Player", 
    y="McMaster Score", 
    title="1990s peaks by position", 
    subtitle=, 
    caption= "Source: Basketball Reference | Matt McMaster") +
  geom_text(aes(x=25, y=10, label="SG= Brown"), color="chocolate4") +
  geom_text(aes(x=25, y=11, label="PG = DarkBlue"), color="blue4") +
  geom_text(aes(x=28.5, y=10, label="C = Orange"), color="darkorange") +
  geom_text(aes(x=28.5, y=11, label="SF = Red"), color="red") +
  geom_text(aes(x=28.5, y=12, label="PF = Green"), color="chartreuse1") +
  geom_text(aes(x=24, y=23, label="Point Guards Dominate"), color="Gray15") +
  geom_text(aes(x=30, y=14, label="Centers have another rough decade"), color="darkorange") +
  theme_light() + theme(
    plot.title = element_text(size=16, face = "bold"), 
     plot.subtitle = element_text(size=10),
    plot.title.position = "plot",
    axis.title = element_text(size=18),
panel.grid.minor = element_blank())

ggplot() + 
  geom_line(data=MMSCORE10sDATAc, aes(x=Age, y=AvgScore), color="darkorange") + 
  geom_line(data=MMSCORE10sDATApg, aes(x=Age, y=AvgScore), color="blue4") + 
   geom_line(data=MMSCORE10sDATAsg, aes(x=Age, y=AvgScore), color="chocolate4") + 
  geom_line(data=MMSCORE10sDATAsf, aes(x=Age, y=AvgScore), color="red") +
   geom_line(data=MMSCORE10sDATApf, aes(x=Age, y=AvgScore), color="chartreuse1")+ labs(
    x="Age of Player", 
    y="McMaster Score", 
    title= "2010s peaks by position", 
    subtitle=, 
    caption= "Source: Basketball Reference | Matt McMaster"
    ) +
  geom_text(aes(x=25, y=10, label="SG= Brown"), color="chocolate4") +
  geom_text(aes(x=25, y=11, label="PG = DarkBlue"), color="blue4") +
  geom_text(aes(x=28.5, y=10, label="C = Orange"), color="darkorange") +
  geom_text(aes(x=28.5, y=11, label="SF = Red"), color="red") +
  geom_text(aes(x=28.5, y=12, label="PF = Green"), color="chartreuse1") +
  theme_light() + theme(
    plot.title = element_text(size=16, face = "bold"), 
     plot.subtitle = element_text(size=10),
    plot.title.position = "plot",
    axis.title = element_text(size=18),
panel.grid.minor = element_blank())
```

Above are what I would call the money graphs. These graphs show us a lot about each positions performance in a given era compared to another and when when broken down individually you can put all the information together to figure out how the game of basketball has changed from 1990-2020.

PSA: The term "from age 28-35" is used as a measuring stick for toal position performance. The reason for this is the prime year of a position on average is 28 years old and their decline occurs to at the latest (if they're still in the league) 35. 35 is the cutoff I used to measure players becasue when players turn 36 there just aren't enough players to get an accurate reading on a position performs

1990s: The 90s were dominated by point guards. Gary Payton, John Stockton, Derrick Harper and Mark price led the way for the point guards through a majority of the 90s. Its not surprising to see that Point guards did so well in this era considering how many assist they had. McMasterScore values efficient scoring but also vlaues assists heavily. In the 90s PGs overall averaged more assists than the 90s and the 2000s. 90s PGs from the age 28-35 averaged 4.77 AST/G 2000s PGs averaged 4.12 2010s average 4.22. Also wing positions failed to created nearly as much as point guards as SFs from ages 28-35 averaged under 2 assist per game and SGs during the same span averaged 2.5 AST/G. PFs were consistent during the 90s and show the most linear rise and fall of any position. Centers had it rough, which is surprising considering how much more important paint presence was in that era of basketball. Also You might be wondering "wow those dips and sudden rises by SFs and SGs are weird." Well that's thanks to two players Larry Bird and Michael Jordan. There are only so many players at each position. As age goes up the number of players at each position goes down so the average McMasterScore can be very volatile and one players presence or absence can greatly effect a score. Thats exactly what happened with Larry Bird and MJ. The the years, 33-35 where SFs average score skyrockets, are the 3 years Larry Bird played in the 90s. And SGs peak then dip then peak again are thank to Michael Jordan trying to become a baseball player. But still Wing players had a good decade as SGs and SFs were the two top scoring positions with 11 and 11.6 PPG respectfully. Overall the 90s were volatile time controlled by PGs unselfishness and supplemented by wings unrivaled scoring ability

2000s:The 2000s is the most interesting year. There are volatile peaks and plummets year to year by nearly every position but there is so much parity. 4 positions at one point held the top spot for average McMasterScore. Point guards fell off from the 90s to the 2000s. Not only did PGs have less assist but they also scored less points. shooting suards led all scorers with small forwards right behind them. Centers had another tough year as they were overall more used for defense than to produce high volume and efficient offensive numbers. PFs did much better in the 2000s than in the 1990s. At one point PFs had the highest Average McMasterScore something that had not been reach in the 90s. The PFs average McMaster score in the 2000s was 18.9. in the 90s it was 17.2. The reason for this is the increase of star power forwards. The 90s PF were dominated by Hall of Famers Charles Barkley and Karl Malone who traded best average McMasterScore back and forth. But after them the position was chalked full of hall of very good players like Horace Grant and Larry Nance. The 2000s however were chalked full of superstar powerf orwards such as Kevin Garnett, Dirk Nowitzski, Tim Duncan, and Chris Weber. Players like Shawn Marion and Rasheed Wallace also contributed to the positions rise in the 2000s.

2010s: Welcome the parties centers!! Centers, who were in the basement for twenty years, not only showed up but dominated the early years. Centers developed the quickest out of any position in the 2010s. From ages 20-25 held the highest average score and were carried by young stars such as Karl Anthony Towns, Anthony Davis, Demarcus Cousins, Joel Embiid, Rudy Gobert, Nikola Jokic, and Dwight Howards Age 25 Season. Centers in the 2010s from Ages 28-35 averaged more points and rebounds than 2000s centers. Point guards reestablished their dominance in the 2010s. 2010s point guards from age 28-35 averaged more points assist and rebounds per game than the 2000s. 2010s basketball was less emphatic on defense and more about fast paced offense. Fast paced offenses benefit distributors and shooters which is why shooting guards and PGs had such a great decade and why small forwards and power forwards who typically are not elite at either found themselves in the basement most of the decade.

So we've seen the overall progress of each position in each era. We have seen how they have all individually progressed through the years but how are far do they all compareitively fall in their career? The graph below shows positions scores at the age of 28 (The average prime year of their careers) compared to

```{r warning=FALSE, message=FALSE}
PeaksAndValley <- read.csv("SPMC350Project2File - Sheet1.csv")

SC90PG <- PeaksAndValley %>%  filter(Pos == "90sPG")

SC90PF <- PeaksAndValley %>%  filter(Pos == "90sPF")

SC90SF <- PeaksAndValley %>%  filter(Pos == "90sSF")

SC90C <- PeaksAndValley %>%  filter(Pos == "90sC")

SC90SG <- PeaksAndValley %>%  filter(Pos == "90sSG")

SC2000sPG <- PeaksAndValley %>%  filter(Pos == "2000sPG")

SC2000sPF <- PeaksAndValley %>%  filter(Pos == "2000sPF")

SC2000sSF <- PeaksAndValley %>%  filter(Pos == "2000sSF")

SC2000sC <- PeaksAndValley %>%  filter(Pos == "2000sC")

SC2000sSG <- PeaksAndValley %>%  filter(Pos == "2000sSG")

SC2010sPG <- PeaksAndValley %>%  filter(Pos == "2010sPG")

SC2010sPF <- PeaksAndValley %>%  filter(Pos == "2010sPF")

SC2010sSF <- PeaksAndValley %>%  filter(Pos == "2010sSF")

SC2010sC <- PeaksAndValley %>%  filter(Pos == "2010sC")

SC2010sSG <- PeaksAndValley %>%  filter(Pos == "2010sSG")

ggplot() + 
  geom_line(data=SC90PG, aes(x=AGE, y=McMasterScore, group=Pos), color="Blue4")+
  geom_point(data=SC90PG, aes(x=AGE, y=McMasterScore, group=Pos), color="Black")+
  geom_line(data=SC90C, aes(x=AGE, y=McMasterScore, group=Pos), color="darkorange")+
  geom_point(data=SC90C, aes(x=AGE, y=McMasterScore, group=Pos), color="Black")+
  geom_line(data=SC90SF, aes(x=AGE, y=McMasterScore, group=Pos), color="red")+
  geom_point(data=SC90SF, aes(x=AGE, y=McMasterScore, group=Pos), color="Black")+
  geom_line(data=SC90PF, aes(x=AGE, y=McMasterScore, group=Pos), color="chartreuse1")+
  geom_point(data=SC90PF, aes(x=AGE, y=McMasterScore, group=Pos), color="Black")+
  geom_line(data=SC90SG, aes(x=AGE, y=McMasterScore, group=Pos), color="chocolate4")+
  geom_point(data=SC90SG, aes(x=AGE, y=McMasterScore, group=Pos), color="Black") + labs(
    x="Age of Player", 
    y="McMaster Score", 
    title="1990s Position Progressions", 
    subtitle=, 
    caption= "Source: Basketball Reference | Matt McMaster"
    ) +
  geom_text(aes(x=28.8, y=15, label="SG= Brown"), color="chocolate4") +
  geom_text(aes(x=30, y=15, label="PG = DarkBlue"), color="blue4") +
  geom_text(aes(x=30, y=14, label="C = Orange"), color="darkorange") +
  geom_text(aes(x=31.5, y=15, label="SF = Red"), color="red") +
  geom_text(aes(x=31.5, y=14, label="PF = Green"), color="chartreuse1") +
  geom_text(aes(x=31, y=23, label="Larry Bird Effect "), color="Red") +
  geom_text(aes(x=31, y=19.7, label="Consistent declines by similar positions"), color="Gray15") +
  theme_light() + theme(
    plot.title = element_text(size=16, face = "bold"), 
     plot.subtitle = element_text(size=10),
    plot.title.position = "plot",
    axis.title = element_text(size=18),
panel.grid.minor = element_blank())


ggplot() + 
  geom_line(data=SC2000sPG, aes(x=AGE, y=McMasterScore, group=Pos), color="Blue4")+
  geom_point(data=SC2000sPG, aes(x=AGE, y=McMasterScore, group=Pos), color="Black")+
  geom_line(data=SC2000sC, aes(x=AGE, y=McMasterScore, group=Pos), color="darkorange")+
  geom_point(data=SC2000sC, aes(x=AGE, y=McMasterScore, group=Pos), color="Black")+
  geom_line(data=SC2000sSF, aes(x=AGE, y=McMasterScore, group=Pos), color="red")+
  geom_point(data=SC2000sSF, aes(x=AGE, y=McMasterScore, group=Pos), color="Black")+
  geom_line(data=SC2000sPF, aes(x=AGE, y=McMasterScore, group=Pos), color="chartreuse1")+
  geom_point(data=SC2000sPF, aes(x=AGE, y=McMasterScore, group=Pos), color="Black")+
  geom_line(data=SC2000sSG, aes(x=AGE, y=McMasterScore, group=Pos), color="chocolate4")+
  geom_point(data=SC2000sSG, aes(x=AGE, y=McMasterScore, group=Pos), color="Black") +
  labs(
    x="Age of Player", 
    y="McMaster Score", 
    title="2000s Position Progressions", 
    subtitle=, 
    caption= "Source: Basketball Reference | Matt McMaster") +
  geom_text(aes(x=28.8, y=15, label="SG= Brown"), color="chocolate4") +
  geom_text(aes(x=30, y=15, label="PG = DarkBlue"), color="blue4") +
  geom_text(aes(x=30, y=14, label="C = Orange"), color="darkorange") +
  geom_text(aes(x=31.2, y=15, label="SF = Red"), color="red") +
  geom_text(aes(x=31.2, y=14, label="PF = Green"), color="chartreuse1") +
  geom_text(aes(x=33, y=20, label="Major Consistency Amongst Positions "), color="Gray15") +
  geom_text(aes(x=32.4, y=12.5, label="Biggest Drop of any position in any era"), color="Red") +
  theme_light() + theme(
    plot.title = element_text(size=16, face = "bold"), 
     plot.subtitle = element_text(size=10),
    plot.title.position = "plot",
    axis.title = element_text(size=18),
panel.grid.minor = element_blank())


ggplot() + 
  geom_line(data=SC2010sPG, aes(x=AGE, y=McMasterScore, group=Pos), color="blue4")+
  geom_point(data=SC2010sPG, aes(x=AGE, y=McMasterScore, group=Pos), color="Black")+
  geom_line(data=SC2010sC, aes(x=AGE, y=McMasterScore, group=Pos), color="darkorange")+
  geom_point(data=SC2010sC, aes(x=AGE, y=McMasterScore, group=Pos), color="Black")+
  geom_line(data=SC2010sSF, aes(x=AGE, y=McMasterScore, group=Pos), color="red")+
  geom_point(data=SC2010sSF, aes(x=AGE, y=McMasterScore, group=Pos), color="Black")+
  geom_line(data=SC2010sPF, aes(x=AGE, y=McMasterScore, group=Pos), color="chartreuse1")+
  geom_point(data=SC2010sPF, aes(x=AGE, y=McMasterScore, group=Pos), color="Black")+
  geom_line(data=SC2010sSG, aes(x=AGE, y=McMasterScore, group=Pos), color="chocolate4")+
  geom_point(data=SC2010sSG, aes(x=AGE, y=McMasterScore, group=Pos), color="Black") + labs(
    x="Age of Player", 
    y="McMaster Score", 
    title="2010s Position Progressions", 
    subtitle=, 
    caption= "Source: Basketball Reference | Matt McMaster"
    ) +
  geom_text(aes(x=28.8, y=15, label="SG= Brown"), color="chocolate4") +
  geom_text(aes(x=30, y=15, label="PG = DarkBlue"), color="blue4") +
  geom_text(aes(x=30, y=14, label="C = Orange"), color="darkorange") +
  geom_text(aes(x=31.5, y=15, label="SF = Red"), color="red") +
  geom_text(aes(x=31.5, y=14, label="PF = Green"), color="chartreuse1") +
  geom_text(aes(x=31, y=22, label="PFs Stay Same? SG Go UP? "), color="Gray15") +
  geom_text(aes(x=30, y=18, label="Major PG dropoff "), color="blue4") +
  theme_light() + theme(
    plot.title = element_text(size=16, face = "bold"), 
     plot.subtitle = element_text(size=10),
    plot.title.position = "plot",
    axis.title = element_text(size=18),
panel.grid.minor = element_blank())
```

2010s: Out of all the graphs that show prime to decline the 2010s is by far the most confusing. First the major Point guard dropoff. First we'll address the major dropoff of 2010s point guards in the graph below. But it is something to note because it was not the only time a position went from best to worse on this graph. Power Forwards and Shooting guards both increased from their prime to their age 35 season. This happened because of data. there aren't a lot of players who play in the NBA at the age of 35 so superstars can completely skew the data. Power forwards have a better score at 35 than 28 thanks to Dirk Nowitzski and Small Forwards are way higher at 35 than 28 because of hall of famers Ray Allen, Dwyane Wade, and Manu Ginobli. While this flaw may not accurately depict how positions decline it shows the value of having superstars on your team. If you are able to get superstars not only are they incredible in their prime but they can play for a long time at a high level.

2000s: Very consistent year. 4 Positions are all fairly close to one another in peaks and 4 positions are all very close to each other where they end there decline but its not all perfect. Centers went up from 28 to 35 based on the reasons we discussed earlier, we can thank David Robinson and Shaquille O'Neal. But once again we have massive dip from top of the mountain to the sewers. Small Forwards took a MASSIVE dip from 28 to 35 due to lack of players. 10 SF made it to be 35 year old SFs in the 2000s and the ones who were playing were could not get above single digit McMasterScores.

1990s: We see we have yet another increase from 35 to 28. Like I mentioned above this is due to the insane play of Larry Bird at such an old age. Other than that a very consistent decade overall. Guards dominated the decade and peaked and declined at a similar rate while doing very different jobs on the court. And powerforwards and centers were very comparable as well which should be no surprise considering that they play similar positions

To conclude there were two unique things to note from this. First twice did a position go from being the best at 28 to being the worst at 35. The reasons could be attributed to high loads. Small forwards in the 2000s and PGs in the 10s were the best of their decade and were counted on to do a lot. this increased load caused many to reitre and the ones who didn't could not continue to perform at a high level. Also other than cases where a hall of fame player playing at a ridiculous high level skewed the graph results were consistent. Positions had a steady decline but were still better than positions they had hire peaks than.

So throughout the the project we've seen one position dominate, the point guard, and one position suffer, the center. The next graph compares the two's prime year of 28 and where they ended up at 35.

```{r warning=FALSE, message=FALSE}

Peak28 <- PeaksAndValley %>% filter(AGE == "28")




Peak35 <- PeaksAndValley %>% filter(AGE == "35")



BarPeak35 <-Peak35 %>% filter(Pos == "90sPG" | Pos == "90sC" | Pos == "2010sC" | Pos == "2010sPG" | Pos == "2000sPG" | Pos == "2000sC") %>% arrange(desc(McMasterScore))



BarPeak28 <- Peak28 %>% filter(Pos == "90sPG" | Pos == "90sC" | Pos == "2010sC" | Pos == "2010sPG" | Pos == "2000sPG" | Pos == "2000sC") %>% arrange(desc(McMasterScore))



PGOLD2010s <- BarPeak35 %>% filter(Pos == "2010sPG")
PGPEAK2010s <- BarPeak28 %>% filter(Pos == "2010sPG")

BarNew <- ggplot() + 
  geom_bar(data=BarPeak28, aes(x=reorder(Pos, McMasterScore), weight=McMasterScore), fill = "dodgerblue4") + 
  geom_bar(data=PGPEAK2010s, aes(x=reorder(Pos, McMasterScore), weight=McMasterScore), fill = "darkolivegreen4") +
  coord_flip() + 
  labs(title="Centers Progression vs Point Guard Progression", subtitle = "PGs Play Better But Age Worse",  x="McMasterScore", y="Age", caption = "") + 
  theme_minimal() + 
  theme(
    plot.title = element_text(size=16, face = "bold"), 
     plot.subtitle = element_text(size=12),
    plot.title.position = "plot",
    axis.title = element_text(size=10),
panel.grid.minor = element_blank())

BarOld <- ggplot() + 
  geom_bar(data=BarPeak35, aes(x=reorder(Pos, McMasterScore), weight=McMasterScore), fill = "dodgerblue4") + 
  geom_bar(data=PGOLD2010s, aes(x=reorder(Pos, McMasterScore), weight=McMasterScore), fill = "darkolivegreen4") +
  coord_flip() + 
  labs(title="", subtitle = "",  x="McMasterScore", y="Age", caption = "Source: Basketball Reference | Matt McMaster") + 
  theme_minimal() +theme(
    plot.title = element_text(size=16, face = "bold"), 
     plot.subtitle = element_text(size=8),
    plot.title.position = "plot",
    axis.title = element_text(size=10),
panel.grid.minor = element_blank())

plot_grid(BarNew, BarOld)
```

So no surprise here the point guard dominates the center in peak age coming in at 1, 2, and 3 out of 6. Like I mentioned earlier, McMasterScore benefits those who have the ball and benefits those who are efficient with it even more. Unless you were a hall of famer like Hakeem Olajuwon, Shaquille O'Neal or David Robinson, centers did not make an impact on the offensive end in the 90s or 2000s. If McMasterScore was a defensive dominant statistic the case would be opposite. But what is the most surprising thing about this graph is the massive decline of 2010s point guards. They plummet which is strange considering Point Guards have dominated nearly every graph we've looked at. My guess is , wear and tear. Point guards hold the ball a lot in order to command an offense. The game of basketball has only gotten faster and point guards have a very taxing load to deal with on offense. Also when you consider the fact that they became more of a scoring threat in the 2010s and cannot use physical strength due to their lack of size, it makes sense why older point can't compete in modern basketball.

To conclude basketball changed a little bit. The most noteworthy thing is th importance of point guards. At nearly every chart shown point guards were near the top. The importance of a team to have a player who can command an offense and control a game will matter in basketball not matter how the game evolves. Point guards are essential to teams success and were vital in every decade. While point guards stayed relevant, small forwards and power forwards were left behind. Basketball is still changing to a more skill based, fast pace game. Players who are elite at play making, user their dominant size and/or shooting ability are thriving in basketball. Forwards do not have that build. Small Forwards are athletic and good shooters but typically aren't as fast as point guards and aren't as effective shooters and SGs. Power Forwards art big and physical but not as big and physical as centers. Both positions are tweeners who's main skillets don't fit into the type of game basketball is turning into and is falling into the backseat of importance because of it.
